"use strict";(self.webpackChunkhertzbeat=self.webpackChunkhertzbeat||[]).push([[48055],{3905:(t,e,a)=>{a.d(e,{Zo:()=>c,kt:()=>d});var r=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var s=r.createContext({}),p=function(t){var e=r.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},c=function(t){var e=p(t.components);return r.createElement(s.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,o=t.originalType,s=t.parentName,c=i(t,["components","mdxType","originalType","parentName"]),m=p(a),d=n,h=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return a?r.createElement(h,l(l({ref:e},c),{},{components:a})):r.createElement(h,l({ref:e},c))}));function d(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var o=a.length,l=new Array(o);l[0]=m;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:n,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},64483:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const o={id:"nebulaGraph",title:"Monitoring NebulaGraph",sidebar_label:"NebulaGraph Database",keywords:["open source monitoring tool","open source NebulaGraph monitoring tool","monitoring NebulaGraph metrics"]},l=void 0,i={unversionedId:"help/nebulaGraph",id:"help/nebulaGraph",title:"Monitoring NebulaGraph",description:"Collect and monitor the general performance Metrics of nebulaGraph.",source:"@site/docs/help/nebulagraph.md",sourceDirName:"help",slug:"/help/nebulaGraph",permalink:"/docs/help/nebulaGraph",draft:!1,editUrl:"https://github.com/dromara/hertzbeat/edit/master/home/docs/help/nebulagraph.md",tags:[],version:"current",frontMatter:{id:"nebulaGraph",title:"Monitoring NebulaGraph",sidebar_label:"NebulaGraph Database",keywords:["open source monitoring tool","open source NebulaGraph monitoring tool","monitoring NebulaGraph metrics"]},sidebar:"docs",previous:{title:"OpenGauss Database",permalink:"/docs/help/opengauss"},next:{title:"REDIS\u6570\u636e\u5e93",permalink:"/docs/help/redis"}},s={},p=[{value:"Configuration parameter",id:"configuration-parameter",level:3},{value:"Collection Metrics",id:"collection-metrics",level:3},{value:"Metrics Set\uff1anebulaGraph_stats",id:"metrics-setnebulagraph_stats",level:4},{value:"Metrics Set\uff1arocksdb_stats",id:"metrics-setrocksdb_stats",level:4}],c={toc:p};function u(t){let{components:e,...a}=t;return(0,n.kt)("wrapper",(0,r.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Collect and monitor the general performance Metrics of nebulaGraph.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Protocol Use\uff1anebulaGraph")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"The monitoring has two parts,nebulaGraph_stats and rocksdb_stats.\nnebulaGraph_stats is nebulaGraph's statistics, and rocksdb_stats is rocksdb's statistics.\n")),(0,n.kt)("h3",{id:""}),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"1\u3001Obtain available parameters through the stats and rocksdb stats interfaces.")),(0,n.kt)("p",null,"1.1\u3001 If you only need to get nebulaGraph_stats, you need to ensure that you have access to stats, or you'll get errors."),(0,n.kt)("p",null,"The default port is 19669 and the access address is http://ip:19669/stats"),(0,n.kt)("p",null,"1.2\u3001If you need to obtain additional parameters for rocksdb stats, you need to ensure that you have access to rocksdb\nstats, otherwise an error will be reported."),(0,n.kt)("p",null,"Once you connect to NebulaGraph for the first time, you must first register your Storage service in order to properly\nquery your data."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"There is help_doc: ",(0,n.kt)("a",{parentName:"strong",href:"https://docs.nebula-graph.com.cn/3.4.3/4.deployment-and-installation/connect-to-nebula-graph/"},"https://docs.nebula-graph.com.cn/3.4.3/4.deployment-and-installation/connect-to-nebula-graph/"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://docs.nebula-graph.com.cn/3.4.3/2.quick-start/3.quick-start-on-premise/3.1add-storage-hosts/"},"https://docs.nebula-graph.com.cn/3.4.3/2.quick-start/3.quick-start-on-premise/3.1add-storage-hosts/"))),(0,n.kt)("p",null,"The default port is 19779 and the access address is:http://ip:19779/rocksdb_stats"),(0,n.kt)("h3",{id:"configuration-parameter"},"Configuration parameter"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter name"),(0,n.kt)("th",{parentName:"tr",align:null},"Parameter help description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Monitoring Host"),(0,n.kt)("td",{parentName:"tr",align:null},"Monitored IPV4, IPV6 or domain name. Note\u26a0\ufe0fWithout protocol header (eg: https://, http://)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Monitoring name"),(0,n.kt)("td",{parentName:"tr",align:null},"Identify the name of this monitoring. The name needs to be unique")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"graphPort"),(0,n.kt)("td",{parentName:"tr",align:null},"Port of the Graph service provided by Nebula Graph")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"timePeriod"),(0,n.kt)("td",{parentName:"tr",align:null},"The value can be 5 seconds, 60 seconds, 600 seconds, or 3600 seconds, indicating the last 5 seconds, last 1 minute, last 10 minutes, and last 1 hour, respectively.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"storagePort"),(0,n.kt)("td",{parentName:"tr",align:null},"Port of the storage service provided by Nebula Graph")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Timeout"),(0,n.kt)("td",{parentName:"tr",align:null},"Allow collection response time")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Collection interval"),(0,n.kt)("td",{parentName:"tr",align:null},"Interval time of monitor periodic data collection, unit: second, and the minimum interval that can be set is 30 seconds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Whether to detect"),(0,n.kt)("td",{parentName:"tr",align:null},"Whether to detect and check the availability of monitoring before adding monitoring. Adding and modifying operations will continue only after the detection is successful")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Description remarks"),(0,n.kt)("td",{parentName:"tr",align:null},"For more information about identifying and describing this monitoring, users can note information here")))),(0,n.kt)("h3",{id:"collection-metrics"},"Collection Metrics"),(0,n.kt)("h4",{id:"metrics-setnebulagraph_stats"},"Metrics Set\uff1anebulaGraph_stats"),(0,n.kt)("p",null,"Too many indicators, related links are as follows\n",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/1.query-performance-metrics/"},"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/1.query-performance-metrics/"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:null},"Metric unit"),(0,n.kt)("th",{parentName:"tr",align:null},"Metric help description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"num_queries_hit_memory_watermark_rate"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"The rate of statements that reached the memory watermark.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"num_queries_hit_memory_watermark_sum"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"The sum of statements that reached the memory watermark.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"num_reclaimed_expired_sessions_sum"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"Number of expired sessions actively reclaimed by the server.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"..."),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"...")))),(0,n.kt)("h4",{id:"metrics-setrocksdb_stats"},"Metrics Set\uff1arocksdb_stats"),(0,n.kt)("p",null,"Too many indicators, related links are as follows\n",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/2.rocksdb-statistics/"},"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/2.rocksdb-statistics/"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:null},"Metric unit"),(0,n.kt)("th",{parentName:"tr",align:null},"Metric help description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"rocksdb.backup.read.bytes"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"Number of bytes read during the RocksDB database backup.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"rocksdb.backup.write.bytes"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"Number of bytes written during the RocksDB database backup.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"..."),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"...")))))}u.isMDXComponent=!0}}]);